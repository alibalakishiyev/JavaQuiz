<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>Tokenizer Normalizer Ä°zahÄ±</title>
    <style>
        body {
          font-family: "Fira Code", Consolas, monospace;
          background-color: #f4f7fa;
          color: #1e293b;
          padding: 2rem;
          line-height: 1.6;
        }

        h1, h2, h3 {
          color: #0f172a;
          border-bottom: 2px solid #38bdf8;
          padding-bottom: 0.3rem;
        }

        code {
          background-color: #e2e8f0;
          color: #0f172a;
          padding: 0.2rem 0.5rem;
          border-radius: 4px;
          font-size: 0.95rem;
        }

        pre {
          background-color: #0f172a;
          color: #e0f2fe;
          padding: 1rem;
          border-radius: 6px;
          overflow-x: auto;
          box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .block {
          background: #f8fafc;
          border-left: 4px solid #0ea5e9;
          padding: 1rem;
          margin-bottom: 1.5rem;
          border-radius: 4px;
          transition: transform 0.2s ease;
        }

        .block:hover {
          transform: scale(1.01);
          box-shadow: 0 4px 12px rgba(14,165,233,0.2);
        }

        .title {
          font-size: 1.1rem;
          font-weight: bold;
          color: #0369a1;
          margin-bottom: 0.5rem;
        }

        .desc {
          margin-left: 1rem;
          font-size: 0.95rem;
        }

        .comment {
          color: #94a3b8;
          font-style: italic;
        }

        ul {
          margin-top: 1rem;
          margin-left: 2rem;
        }

        li {
          margin-bottom: 0.5rem;
        }

        .highlight {
          background-color: #e0f2fe;
          color: #0369a1;
          padding: 0.1rem 0.4rem;
          border-radius: 3px;
          font-weight: bold;
        }

        .code {
          color: #bae6fd;
        }
    </style>

</head>
<body>

<h2>Tokenizer Normalization AddÄ±mlarÄ± â€“ Ä°zahÄ±</h2>

<pre>
<span class="highlight">self.tokenizer.normalizer = normalizers.Sequence([</span>
    <span class="comment"># 1. Unicode decomposition (diakritiklÉ™ri ayÄ±rmaq Ã¼Ã§Ã¼n)</span>
    NFD(),

    <span class="comment"># 2. Riyazi vÉ™ simvolik elementlÉ™ri xÃ¼susi token formatÄ±na salmaq</span>
    normalizers.Replace(Regex(r"Â²"), "&lt;MATH&gt;Â²&lt;/MATH&gt;"),
    normalizers.Replace(Regex(r"ğ‘“"), "f"),
    normalizers.Replace(Regex(r"ğ‘¥"), "x"),
    normalizers.Replace(Regex(r"ğ‘¦"), "y"),
    normalizers.Replace(Regex(r"âˆš"), "&lt;MATH&gt;âˆš&lt;/MATH&gt;"),
    normalizers.Replace(Regex(r"âˆ€"), "&lt;MATH&gt;âˆ€&lt;/MATH&gt;"),
    normalizers.Replace(Regex(r"âˆˆ"), "&lt;MATH&gt;âˆˆ&lt;/MATH&gt;"),
    normalizers.Replace(Regex(r"â„"), "&lt;MATH&gt;â„&lt;/MATH&gt;"),

    <span class="comment"># 3. Qeyri-standart dÄ±rnaq vÉ™ tÄ±rnaqlarÄ± normal dÄ±rnaq iÅŸarÉ™lÉ™ri ilÉ™ É™vÉ™z etmÉ™k</span>
    normalizers.Replace(Regex(r"[ã€Šã€‹Â«Â»]"), '"'),
    normalizers.Replace(Regex(r"[â€œâ€â€â€Ÿ]"), '"'),
    normalizers.Replace(Regex(r"[â€˜â€™â€šâ€›]"), "'"),

    <span class="comment"># 4. MÃ¼É™lliflik simvolunu qorumaq Ã¼Ã§Ã¼n xÃ¼susi format</span>
    normalizers.Replace(Regex(r"Â©"), "&lt;SYMBOL&gt;Â©&lt;/SYMBOL&gt;"),

    <span class="comment"># 5. Ä°cazÉ™ verilÉ™nlÉ™rdÉ™n baÅŸqa hÉ™r ÅŸeyi silmÉ™k (emoji, hÉ™rflÉ™r, simvollar qalÄ±r)</span>
    normalizers.Replace(
        Regex(r"[^\wÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸÆÃ–ÃœÄIÃ‡Å\-.,!?@#â‚¼$%:;'(){}<>=+*/\\&|^~`\\sğŸ˜€-ğŸ™ğŸŒ€-ğŸ—¿]"), ""
    ),

    <span class="comment"># 6. ArtÄ±q boÅŸluqlarÄ± tÉ™k boÅŸluqla É™vÉ™z et</span>
    normalizers.Replace(Regex(r"\s+"), " "),

    <span class="comment"># 7. BÃ¼tÃ¼n mÉ™tni kiÃ§ik hÉ™rflÉ™rÉ™ Ã§evir</span>
    Lowercase(),

    <span class="comment"># 8. YenidÉ™n birlÉ™ÅŸdirilmiÅŸ Unicode formasÄ± (Ã§ap uyÄŸunluÄŸu Ã¼Ã§Ã¼n)</span>
    NFC()
<span class="highlight">])</span>
</pre>

<pre class="highlight">
<span class="comment"># Normalization ardÄ±cÄ±llÄ±ÄŸÄ± tÉ™yin olunur:</span>
self.tokenizer.normalizer = normalizers.Sequence([

    <span class="comment">NFD(),</span>
    <span class="comment"># Unicode Normal Form D: tÉ™rkibindÉ™ki diakritiklÉ™ri ayÄ±rÄ±r (mÉ™s: "Ã©" â†’ "e" + " Ì")</span>

    <span class="comment">normalizers.Replace(Regex(r"Â²"), "&lt;MATH&gt;Â²&lt;/MATH&gt;"),</span>
    <span class="comment"># "Â²" iÅŸarÉ™sini matematik kimi tag-layÄ±r</span>

    <span class="comment">normalizers.Replace(Regex(r"ğ‘“"), "f"),</span>
    <span class="comment"># Unicode "math italic f" â†’ normal "f"</span>

    <span class="comment">normalizers.Replace(Regex(r"ğ‘¥"), "x"),</span>
    <span class="comment">normalizers.Replace(Regex(r"ğ‘¦"), "y"),</span>
    <span class="comment"># Eyni qayda ilÉ™ "ğ‘¥", "ğ‘¦" â†’ normal x vÉ™ y</span>

    <span class="comment">normalizers.Replace(Regex(r"âˆš"), "&lt;MATH&gt;âˆš&lt;/MATH&gt;"),</span>
    <span class="comment">normalizers.Replace(Regex(r"âˆ€"), "&lt;MATH&gt;âˆ€&lt;/MATH&gt;"),</span>
    <span class="comment">normalizers.Replace(Regex(r"âˆˆ"), "&lt;MATH&gt;âˆˆ&lt;/MATH&gt;"),</span>
    <span class="comment">normalizers.Replace(Regex(r"â„"), "&lt;MATH&gt;â„&lt;/MATH&gt;"),</span>
    <span class="comment"># BÃ¼tÃ¼n bu riyazi simvollarÄ± qoruyub saxlayÄ±r vÉ™ "&lt;MATH&gt;" tag-larÄ±na alÄ±r</span>

    <span class="comment">normalizers.Replace(Regex(r"[ã€Šã€‹Â«Â»]"), "\""),</span>
    <span class="comment"># Ã‡in/Rus tipli dÄ±rnaqlarÄ± standart dÄ±rnaÄŸa Ã§evirir</span>

    <span class="comment">normalizers.Replace(Regex(r"[â€œâ€â€â€Ÿ]"), "\""),</span>
    <span class="comment">normalizers.Replace(Regex(r"[â€˜â€™â€šâ€›]"), "'"),</span>
    <span class="comment"># MÃ¼xtÉ™lif dÄ±rnaq variantlarÄ±nÄ± normal formaya salÄ±r</span>

    <span class="comment">normalizers.Replace(Regex(r"Â©"), "&lt;SYMBOL&gt;Â©&lt;/SYMBOL&gt;"),</span>
    <span class="comment"># Â© simvolunu xÃ¼susi SYMBOL tag-Ä±na alÄ±r</span>

    <span class="comment">normalizers.Replace(Regex(r"[^\wÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸÆÃ–ÃœÄIÃ‡Å\-.,!?@#â‚¼$%:;'(){}<>=+*/\\&|^~`\sğŸ˜€-ğŸ™ğŸŒ€-ğŸ—¿]"), ""),</span>
    <span class="comment"># AzÉ™rbaycan dilindÉ™ vÉ™ emoji/simvollarda olmayan xarici simvollarÄ± silir</span>

    <span class="comment">normalizers.Replace(Regex(r"\s+"), " "),</span>
    <span class="comment"># BirdÉ™n Ã§ox boÅŸluq â†’ tÉ™k boÅŸluÄŸa Ã§evrilir</span>

    <span class="comment">Lowercase(),</span>
    <span class="comment"># HamÄ±sÄ±nÄ± kiÃ§ik hÉ™rfÉ™ Ã§evirir (sÉ™n istÉ™mirsÉ™nsÉ™, bunu Ã§Ä±xara bilÉ™rsÉ™n)</span>

    <span class="comment">NFC()</span>
    <span class="comment"># Unicode Normal Form C: diakritiklÉ™ri vÉ™ hÉ™rflÉ™ri birlÉ™ÅŸdirir (É™ â†’ É™)</span>

])
</pre>

<p>
    Bu `normalizer` sekansÄ± AzÉ™rbaycan dili Ã¼Ã§Ã¼n <strong>matematik simvollarÄ± qoruyur</strong>,
    <strong>Unicode uyÄŸunsuzluqlarÄ± dÃ¼zÉ™ldir</strong>,
    <strong>emoji vÉ™ texniki elementlÉ™ri saxlayÄ±r</strong>,
    <strong>lazÄ±msÄ±z simvollarÄ± tÉ™mizlÉ™yir</strong> vÉ™
    <strong>boÅŸluqlarÄ± dÃ¼zÉ™ldir</strong>.
</p>

<h2>ğŸ§© Tokenizer Pre-Tokenizer AddÄ±mlarÄ± â€“ Ä°zahÄ±</h2>

<pre>
<span class="title">self.tokenizer.pre_tokenizer = pre_tokenizers.Sequence([</span>

    <span class="comment"># 1. Riyazi bloklarÄ± ayrÄ±ca token kimi tanÄ± (isolated):</span>
    Split(Regex(r"(<MATH>.*?</MATH>)"), behavior="isolated"),

    <span class="comment"># 2. Simvol bloklarÄ±nÄ± ayrÄ±ca token kimi tanÄ±:</span>
    Split(Regex(r"(<SYMBOL>.*?</SYMBOL>)"), behavior="isolated"),

    <span class="comment"># 3. MÉ™ÅŸhur emoji (â¤ï¸â€ğŸ”¥) ayrÄ±ca saxlanÄ±lsÄ±n:</span>
    Split(Regex(r"(â¤ï¸â€ğŸ”¥)"), behavior="isolated"),

    <span class="comment"># 4. Ä°stifadÉ™Ã§i adlarÄ± (mentionlar) Ã¼Ã§Ã¼n regex: @istifadeci</span>
    Split(Regex(r"(@[\wÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸ]+)"), behavior="isolated"),

    <span class="comment"># 5. Hashtag-lÉ™r Ã¼Ã§Ã¼n regex: #etiket</span>
    Split(Regex(r"(#[\wÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸ]+)"), behavior="isolated"),

    <span class="comment"># 6. URL-lÉ™r: http:// vÉ™ ya www. ilÉ™ baÅŸlayan:</span>
    Split(Regex(r"(https?://\\S+|www\\.\\S+)"), behavior="isolated"),

    <span class="comment"># 7. Telefon nÃ¶mrÉ™lÉ™ri: beynÉ™lxalq format +994, boÅŸluq vÉ™ tire dÉ™stÉ™yi ilÉ™</span>
    Split(Regex(r"(\\+\\d{1,4}[\\s\\-]?\\(?\\d{1,4}\\)?[\\s\\-]?\\d{1,4}[\\s\\-]?\\d{1,4}[\\s\\-]?\\d{1,4})"),
          behavior="isolated"),

    <span class="comment"># 8. Python funksiyalarÄ± Ã¼Ã§Ã¼n: def funksiya_adi():</span>
    Split(Regex(r"(def\\s+\\w+\\s*\\(.*\\):)"), behavior="isolated"),

    <span class="comment"># 9. HTML vÉ™ XML tag-larÄ±:</span>
    Split(Regex(r"(&lt;\\w+.*?&gt;)"), behavior="isolated"),

    <span class="comment"># 10. Kompozit sÃ¶zlÉ™r (ikili vÉ™ Ã¼Ã§lÃ¼ birlÉ™ÅŸmÉ™lÉ™r):</span>
    Split(Regex(r"([a-zÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸ]+-[a-zÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸ]+(?:-[a-zÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸ]+)*)"), behavior="merged_with_next"),

    <span class="comment"># 11. RÉ™qÉ™mlÉ™r: 1,000.25 vÉ™ faiz iÅŸarÉ™lÉ™ri daxil olmaqla</span>
    Split(Regex(r"(\\d{1,3}(?:,\\d{3})*(?:\\.\\d+)?%?)"), behavior="isolated"),

    <span class="comment"># 12. Saat vÉ™ zaman formatlarÄ±: 12:45 vÉ™ ya 09.30 kimi</span>
    Split(Regex(r"(\\d{1,2}[:.]\\d{2})"), behavior="isolated"),

    <span class="comment"># 13. Tarix formatÄ±: 2025-07-23 kimi</span>
    Split(Regex(r"(\\d{4}-\\d{2}-\\d{2})"), behavior="isolated"),

    <span class="comment"># 14. BoÅŸluqlara gÃ¶rÉ™ ayÄ±r (É™n sadÉ™ bÃ¶lÃ¼cÃ¼)</span>
    Whitespace(),

    <span class="comment"># 15. NÃ¶qtÉ™, vergÃ¼l, nida vÉ™ digÉ™r punktuasiyalar ayrÄ±lsÄ±n</span>
    Punctuation(behavior='isolated'),

    <span class="comment"># 16. RÉ™qÉ™mlÉ™r bÃ¼tÃ¶v saxlanÄ±lsÄ±n (individual_digits=False)</span>
    Digits(individual_digits=False)

<span class="title">])</span>
</pre>

<h3>ğŸ“Œ QÄ±sa izahat:</h3>
<ul>
    <li><strong>Split:</strong> Regex É™sasÄ±nda parÃ§alama É™mÉ™liyyatÄ±dÄ±r.</li>
    <li><strong>behavior="isolated":</strong> uyÄŸun gÉ™lÉ™n hissÉ™ni ayrÄ±ca token kimi saxlayÄ±r.</li>
    <li><strong>behavior="merged_with_next":</strong> uyÄŸun gÉ™lÉ™n hissÉ™ni sonrakÄ± tokenlÉ™ birlÉ™ÅŸdirir (mÉ™s. birlÉ™ÅŸik sÃ¶zlÉ™r Ã¼Ã§Ã¼n).</li>
    <li><strong>Whitespace, Punctuation, Digits:</strong> hazÄ±r pre-tokenizer komponentlÉ™ridir â€“ mÉ™tnin klassik bÃ¶lÃ¼nmÉ™sini tÉ™min edir.</li>
</ul>



<p>Bu hissÉ™ modelÉ™ daxil olan mÉ™tnin necÉ™ parÃ§alanacaÄŸÄ±nÄ± tÉ™yin edir. YÉ™ni É™vvÉ™lcÉ™dÉ™n hansÄ± strukturlarÄ±n necÉ™ <code>token</code>-É™ Ã§evrilÉ™cÉ™yini mÃ¼É™yyÉ™n edir.</p>

<div class="block">
    <div class="title">Split(Regex(r"(&lt;MATH&gt;.*?&lt;/MATH&gt;)"), behavior="isolated")</div>
    <p class="desc">Riyazi bloklarÄ± (&lt;MATH&gt;...&lt;/MATH&gt;) tam ÅŸÉ™kildÉ™ saxlayÄ±r. MÉ™sÉ™lÉ™n, <code>&lt;MATH&gt;âˆšğ‘¥Â²&lt;/MATH&gt;</code> bir token olur.</p>
</div>

<div class="block">
    <div class="title">Split(Regex(r"(&lt;SYMBOL&gt;.*?&lt;/SYMBOL&gt;)"), behavior="isolated")</div>
    <p class="desc">Simvol etiketi olan hissÉ™lÉ™ri ayrÄ±ca saxlayÄ±r. MÉ™sÉ™lÉ™n, <code>&lt;SYMBOL&gt;Â©&lt;/SYMBOL&gt;</code> kimi.</p>
</div>

<div class="block">
    <div class="title">Split(Regex(r"(â¤ï¸â€ğŸ”¥)"), behavior="isolated")</div>
    <p class="desc">Spesifik emoji ardÄ±cÄ±llÄ±ÄŸÄ±nÄ± tam saxlayÄ±r. Bu emoji 3 fÉ™rqli kodpoint-dÉ™n ibarÉ™tdir, bir token kimi qorunur.</p>
</div>

<div class="block">
    <div class="title">Split(Regex(r"(@[\wÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸ]+)"), behavior="isolated")</div>
    <p class="desc">@istifadeci ÅŸÉ™klindÉ™ mention-larÄ± ayrÄ±ca saxlayÄ±r (mÉ™sÉ™lÉ™n: @ali_123).</p>
</div>

<div class="block">
    <div class="title">Split(Regex(r"(#[\wÉ™Ã¶Ã¼ÄŸÄ±Ã§ÅŸ]+)"), behavior="isolated")</div>
    <p class="desc">Hashtag-larÄ± ayrÄ±ca saxlayÄ±r (mÉ™sÉ™lÉ™n: #asanxidmÉ™t).</p>
</div>

<div class="block">
    <div class="title">Split(Regex(r"(https?://\\S+|www\\.\\S+)"), behavior="isolated")</div>
    <p class="desc">URL-lÉ™ri tÉ™k token kimi saxlayÄ±r (mÉ™s: <code>https://asan.gov.az</code>).</p>
</div>

<div class="block">
    <div class="title">Telefon nÃ¶mrÉ™si regex</div>
    <p class="desc">+994 50 123 45 67 formatlÄ± nÃ¶mrÉ™lÉ™ri tanÄ±yÄ±r vÉ™ saxlayÄ±r.</p>
</div>

<div class="block">
    <div class="title">Python kod bloklarÄ±</div>
    <p class="desc"><code>def my_function(param):</code> kimi bloklarÄ± ayrÄ±ca saxlayÄ±r â€” proqramlaÅŸdÄ±rma kodlarÄ± Ã¼Ã§Ã¼n vacibdir.</p>
</div>

<div class="block">
    <div class="title">HTML/XML tag-larÄ±nÄ± saxlayÄ±r</div>
    <p class="desc"><code>&lt;div&gt;</code> vÉ™ ya <code>&lt;a href=""&gt;</code> kimi tag-larÄ± bir token kimi saxlayÄ±r.</p>
</div>

<div class="block">
    <div class="title">BirlÉ™ÅŸik sÃ¶zlÉ™ri: Split(..., behavior="merged_with_next")</div>
    <p class="desc">MÉ™sÉ™lÉ™n: <code>AzÉ™rbaycan-ErmÉ™nistan-TÃ¼rkiyÉ™</code> sÃ¶zÃ¼nÃ¼ tam saxlayÄ±r, parÃ§alamÄ±r.</p>
</div>

<div class="block">
    <div class="title">RÉ™qÉ™mlÉ™r vÉ™ faiz: 1,000.50 vÉ™ ya 100%</div>
    <p class="desc">MaliyyÉ™ vÉ™ statistika cÃ¼mlÉ™lÉ™ri Ã¼Ã§Ã¼n vacibdir. ParÃ§alanmadan saxlanÄ±lÄ±r.</p>
</div>

<div class="block">
    <div class="title">Saat formatlarÄ±</div>
    <p class="desc"><code>13:45</code> vÉ™ ya <code>09.30</code> zaman ifadÉ™lÉ™ri bir token olur.</p>
</div>

<div class="block">
    <div class="title">Tarix formatÄ±</div>
    <p class="desc">YYYY-MM-DD (mÉ™s: 2025-07-23) tarixlÉ™ri ayrÄ±ca token olur.</p>
</div>

<div class="block">
    <div class="title">Whitespace()</div>
    <p class="desc">BoÅŸluqlara É™saslanaraq sÃ¶zlÉ™ri ayÄ±rÄ±r. Æn klassik tokenization addÄ±mÄ±dÄ±r.</p>
</div>

<div class="block">
    <div class="title">Punctuation(behavior='isolated')</div>
    <p class="desc">NÃ¶qtÉ™, vergÃ¼l, nida, sual iÅŸarÉ™si vÉ™ s. ayrÄ±ca saxlanÄ±lÄ±r. MÉ™sÉ™lÉ™n: <code>Salam!</code> â†’ ["Salam", "!"]</p>
</div>

<div class="block">
    <div class="title">Digits(individual_digits=False)</div>
    <p class="desc">RÉ™qÉ™mlÉ™ri bÃ¼tÃ¶v saxlayÄ±r. <code>12345</code> â†’ ["12345"] (hÉ™r rÉ™qÉ™m ayrÄ±ca deyil)</p>
</div>

</body>
</html>
